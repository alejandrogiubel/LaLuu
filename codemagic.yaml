# Automatically generated on 2021-01-23 UTC from https://codemagic.io/app/600c6e36627f2f927294ffc1/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmdESVY5cEJJYlI4R1ZDdDZsWlE2TS1seFV4bm43NFlkQWJyUmdUQWczeVJmVEdpeXIxbnJBV2dSOUVHekk5NEJPZkhGZW9oS3lSVkNBTHhoenA1em5oQTM1R3ZTRXN4WHRyVFhCYmI1RlMzU3R5aldEb0VIN2otQllheUw4eXUzalVxd19CZ2p5RExvTVdBWGhZTzNsaEQzS0tpeGZqMENqSG1IU1IzMHVsYm0zYWlqQ2k2bzRKbEtvTFhSV2ZubF84c1JVbEJmRExrVGZpUExrZHZISnBMZVlWei1kUlg5ajRoTzBVdWRnb1NLZEJiY2NEVFFEWHBhaTc4cGJJMW5weTFvRi1ENGpfVGdIc3ZHbXR5VDBYV2NXTEFIdWJ3QnZ1SDRKR1lIX3JrUE1WYVpQcThmNnFtcUhheTRvbDdhQ3ItT2g4ZU1MbDJJTWlHd1h0VUF4WV9Jb0tTekxVbndNUXdsTWQzbU5XcGhaWWRGS0VQbVYxUTBoRGRHWUZCdHM2cVlJQVZSUlBuNm1BMW5rTW5fOXZpdkltZmhiSUZJNWNsNE82NjdqQU5yNkw1NThaUTYzR2JOYWIwUEJEcXhDUnVTelRvTmxlSmVURGNwMThEY1A3eUJTVnVVblVhakZVNnN4R0N5UzdNZzA5Qk8xNUl3VjZuQU15YXBHR0dpbjBueXAyaXNoYXhtYXc5Vkk3aURJaUdydlFrMjdKVWxXbUs2clY5Q0FPQWRhSTJYU1JMdXdPNTZpZ1FYVnhYWDFLN2l4dmdOM0VvT3FtUEJPUGhnNFZsbUZmQUllS24xeTV3a01rQVI0aTlkUXFlLTByaDRYX251dlJjMkZMWl95Qkt3X1RsdUdma3RxY01oRHU4NU96ZlpkbnZQd241MW43NTJLRWY5UU5ZcVAyQ1NXWmlvRkF6cDQxbDZyOG9sY0Y5ekJpYUhIWVlGa0JRdmRBUDJUdEtpT0haamI4UTlSTlNRTldiV2U4THppWk1kVXRfQVlIWmRtUnd4TGcwYTBJdzctRVo0N2E4LXVvRDRsZDN6azAyZ2Q4ZW1kNlRqTHF6bHFrMUh0S1MwdHFMLUZzcTRlZ1dBdVRISVhyaTlrU1FuZ1Q5eW1QNk14WVBIUWlRcHNiMlJVYk9HUWZhT3ZWa0MzLTJVWEhKQWpXZW1UcmpRVGp1QUJkSm93NERCTkVzLVhPeW9XaVh4SkZyVVBwUnF5OHBJYWVUSUVqQWxZb0RUeU9vaUc4SWFwWmZIc2FyRHNQYnBrRXlyUk1iNmI5d0I2SHJUbWFtMFkxRGlWaWdkVmF4eTBQX3dfQVJzLWY1d2RQMnVJTE1tV205MGxCb2ZVOW93OE1HdkVwYTVjOVFidGtzX1pwclppa3FZQ0RCb21GMGt4ay1ManFMQjZ1aEMwQnBWMHRicGtvcmNodnJNZGxRTUhrajQ1dzNhWjZ2QVhnUmV5a0FwQWpaNllocjdQVUlodFJzVXA3ZUxoeG1tNHlSd1AzOVJMOC0wTXZ2eHVpX1ZmYkJuVjVJMnNuV19pQ19TazRTcWM3M1pINjNTZlM4LTc0UWdQZXlSRHNmdUtCaXZXTHZ0RVV4OG5KSjhjSUhlc0RhRkdweEFoU3RTczFZcklsSExHNEpSUFc4NVpSYVdoUWdqdi1oOVpCeUpSaW56OHQyeHBkS1pGOXNleW5aWTdaQXNOLXNPSVVzVVJHY0o3R1JvRGVvTFV4bzN2cFoxZTVTb2E5cU5KTG0yTkFDbGFBZTBubDJlRnFxREMwYWMydjJfQmRILWF6cmpNTFBtd18xa0JsT3dQWnY5ZWlSNDA2RmEtNVBHOWpnNjFFMUpPVmdoYU0tWU1XX1g3ckdHUzJEWkFFZFgzUGxhOXVZN2tQbGRTRnFyMWxOMDNUaXpRTi1GLXZRS0dQOGt3WGltR3Z5RzZsTDR6NWxOU2ZfMlRncFFoT2FMTzlRMUtxREdVRzRZMXQ1Smxmam1oZDA0a2JySWtXM1FLR3BWUTBzeWoxbjlMbzlrMWVfV3FUalNkLXZhMVBRMGZfaENMWGNiVFFhU1hKdF9tUnNEcEtNUnNITGZ4VURMVzVjLUQ0Vkk3X0otTV9pVDk5SzJBN1VWaUZYM0Nla0VIWnpmLXVvX01qZVREejVzU08yejJyNHp2alVDY3NIOGNBcXN6RUdDZUxCZEZ6MjB2T0Y1Vk5rcnZxcUo2dnY4YkIyVE1DdkZXMlp1VFF0Nm1ycVgwWkwwVXRERklfaXcwTHNOTzJiVmJPQVR0djItbHZyQjl6NVJqM3VWT1hkcjFXOEtaalZlVlpPeU9vNTRXT3BCOEtMRnBnMUhxVmQ4clk1TElsSWNNbGwyZTZ3ak1ka3lfQlBGYkZQUGFTdUJraVVCdFVBZDRaeWZKYnc0VDEtdDhCdV9GenY1ZV90RjNQYy0tdkM5dEdqdDBlbjdPZ2NFT0xLalVGdGs1OHpldHhCVzFIYWNIbkh2bVRxcURtQllFWHoyVzdTRFhPMFJfVjBVVWlMTU1lbmZFZWE3ZVZ6ODJLUkxjVk9SX1dHY29VRXVwYTlaVTJJWXY2Z2Z1MG5MdVRDNDVaS2RPSjRHbFctcVcxRE16RmpHOFpuVWdQX1Z4VVgxWEs4RGtqYXc1b3BFNGV6cDJTdW41ZHlsNW94S3dOa3huRG8tVV9uN2dkZ2NYZWZwdHNUSW5IUEVTMGVSQVBDNkZYRHBqWUFkZ1N6TzZUeHE3SHZDU3VlWjNla2lZUHpvUWRWbExoVUJva00yc2c3VmJjWDZ1ZTdjUkFJcXNkNkdQdW4xdHRQQ1VfcUE5bjBSMGJ6a1BaSXFZZ0pnWjZHeVBoSi16dWNGWURRVjZnNEFYZ1BhQ0YxMWxfTDByTTEyNE5IV1pOdVRvc0Q4UFhYd2N6b2JBRDhSMm5uUHo4cm5hOFBlMXA4MzV0cU5VVE1FQ0hmcFF5MnI3MERKWVNUMEhIV0NWU043UGpOV3dUck1BMTlXTUZBT2lieFJUSlJ0T2NRSnZPX3dxLU43R0ZaX0FEcGU2SDFQSVIxX1lCeWlXOWZIZWFIdTA1R1N3cUZKcEFhOXgzdFJYRWhlSF91bHN5RDNKWnhrN0VNVDRTZzhyQzVsNE41ZWJLamU3M1QyQVdvQlB1dzVBTjJXOUcwNW16R1luYVRsUHBqYnR5eXlPa3FBb0Njck5ycjZwdERzeTctZnU0VkxfNkdHRmpZMDNXc1pXb2x0VWt3TXVSXy1sSWdyRXprWXRpYi01T1hjWlA2ZUJQT2x3MlBpUWVIcWlfQmlIQm5Nb1hZSG9SQVBneldiek1ydGxyaXFKVTJiak1oeFNHcE8xWGtTcUJvaGFYcTZqNmpocG0yeHZtQmJlMjVaQ0ZYVGE5X3gtMXFFblN5UF92dmppbW9ZeVA3eDVQa3pQU3hDSDZFZG5talpPUFFmTEdqd1lFNE8xN1VSS3FHMC1DNkZualVVTU0wOU5kRUlBRTNDWTBqSmtJSm9yTnI0enY0dGVPd1piYy1maW84dmxQX29oZzNRUFpoMGNXeW1Pc0V0WHh0dFRmOE1Td1lYbzJHMUtlYmVMVjdXNGQtSS1weC1SMEE2d1hja0Y1ZXBabi1pVVZUbmtFY1pJb1h4bWNGQ0VueTAzRnJVT0xMRmI4ZzF3bEt2aUE2YXU3aDBOX19WZFRtRi1yNVlXZE5nMFIzTmJ1SFpVR0ZpdnQxdlVKd1JRajBsUGdIendxUGRKRGxLZFJtQUY2TGlSQUx2YWo3ZlhWNElTUEhRbHhfZUc2czdWM1ZhdDh4WjhNTDBkVzNTRGtwelFRdkJDWi0taURGWU9jQ2pEVGxKMWRoSWhlNEhwVV93ZzRGbG5rMlhHaHhGQjZLXzVvdzI4MkpHLUhWb1RYai1ldTBsZ3F2cFJ5T0l6WUhQWmxBU1FVcy1OV19NN2V0TGRJWjY3NlRwWkZyX2pTMy1tWHpMV2FQSjVjaWE4cmZpOHQtRTZpZHhSR3gxQXhWWHhTcU5zb29iUlZqZV9rTzhoTGdobXRQVUd0ZklZX2d0S2ZUYmFhWjdtZEVtWWE3OERsSVRINnc3Ym8zUHd6WGFqZEhwX0FPZTNDWDY1a2lIZEo5R1h1TUxyYTY5NGJaQ0JGR1V6dkdqX3JYUGgweWFXWFo1WkFhUjNibVhxSnFBVEZ4Rkw4SmxBa0xlZ25qczVHcXVFMHlpSVFON2o2azM5SFN0VWFMRFFaTHZDTVBzZmwwVHl3bWYtcnItaXdxMjgyeEduYUhRSlJzakNDanlFdXIwbEs0eWg0WDBveHd4TFR0Y1V5WE5JRm5YSDRiUzViNEZDM3RqYm01TVo0enB4c1g5RTduTEgxSTVBUGNrXzFPQjROMUxraU1neFl6ampITFY3cERXVkhuUTlINjJZa1I3UUdCOW1OZjZ5ekIwcWtqVEhhUHFRTElqVWpCS2FOeTZUNUl5eEF2YzBTcm1QdkpXY1NDa2RneW92OG9fMTlEQ2VFeXdxUEJMSF9tcmY0ZFBFTjF3T0UwSzk5YjFsX1pXVzlCcUhlUjVQMXlzVW40TUZGM2lRYXpYTnRJcGtUSXlWZXd1RnAzbW5xcWlkWlp2Zy1NTUpEcWVPeDdZUXY1T290Xy1GekIxa3QxQzZCZEFXaXM0R2NXakhJY1Y0MXdSbVZIUnpqSU1IZ2lRSll0dGM1WkZuOVdtR21La0Y1X3UzSnlPUWxiUm9faWUxZHIxc2xsdWNHUzJXT3B2a25mZ1dnbjdfNmhadjl1SnVsXzlYOEUxMzZMdEIxbFdDMnF3TS1Ic21pbWFhZkJDWEpubmFZQjBlb3NhZFhHdVBzWUZyd3N0YTRQVHdIMm14Rm1iRnRicEtFTWJZODZpbnlZdVZQV3VsRUh3ZHZLS2hkVTFRN0NpVkUwNUVRTU9ESlN1a0lCbnhESWhDSHd3SG1aejg4LTR3cDI3NWpZYmR4Rk5tQm9zQzRxMGlyQ0t2WmtNR1dnUkdicHVKeHRYOFBOOXUyaVVRc3k2bF95QV9tY0JFQ250WmtLellHeDVKREplanNIVFNtTVdhLTNmNTFFZjF1V21CSnVpRHFxcWljNU9OMmMwdWIxUUxya2tGdU1fZHFzWUhnZ2hUQWRqY19zdThtLUZXazRYd1I5YkQ1bFozYUpBZDZJUFh6eXZtc2lKWVlkcUNCSVNkcExvNVFNV25JdlRzdFhsMXdaQkloRjBmU3pQMW4tSWd3VGx4QjlFRjcyZERicmhycVhxWVFjcmxOazJUcm94bERSRzhobUJLSTdzNTJYSWZEcFg0TlJadFhmNWdoNHA2SlNQSnc1bS1sQkY0ZXd0WDVHQnNHcFpMcWZMT1F4V21pMnBaYVVkSEFrVC1zaDZBcmtvMl96N19RVTBrck9HUnkyRHIwY3JLTHRXNjQzMlNPamtkVWlBOXVvVWh6WHBlRTZWUzRUTThCeXFkdVdtZHZldlBGalN3Y0lrbnl1dlhGTnlkajFBcUJFOUk5MnlKLWZEMGpqUXFfZWtaa1dNb1JwcE9RcGlPMUV4VG1TY21JZlF1b3RxZ3dYV3c1RHkyaHkzZFVKdWhIcmxZWFZBLVlxR3IxMC14d3ZiX3Uzc3JyY3NwcXJsclFpUlljODVHM0dVNHdLT0t0WFBzTE03cjg3NEVubkQyT1JmUXVpMzJLQld3NGRRYmFzeE9qWkdIX1M4VHRNWjczT1FyVEtmYi1wUlZaOHNhM0EyYndoMlhnUFRySWJObzgzWWNrZTUxSU9mYlBwQjRMaEtOcU1jYldCQWV2LTUwTmQ4eE9pSk9vNmdJLXF5ZDRfejdfcy1uMUJXVWYyRDBfcy1XMTgzT0tFVkxoY2NZekhJMHB0eU5FNkxISDlhRVV3aGJPQWI4MURUTlJIak14Y1lDOEVCMGhZX2QwODc3cTgwQ0xMLTJ6akxMaDhFRnRiSWZPdzZuME13ZG5nZ2FIbnFkRkVUTWNIb016d19GbVNreGdrZ2VFdXFVcGV2NzFzNjAyVXlhTHE0YXJmcHQxdUVZcUNxNHVfd1dxc3Rna1p6ODVDbjlldXJ0ak4wSnNuekF3cXp2YjR6OTdCTUhYY1FUZ0NKS1VULWV3ODFhTFlOU0x2Q3FSN0lHMENaZjFtbW9UV3VoQkh2MVUyN19YODhPMWh0SHFjOElaUlJTSV9kcFNyMGlQRVBmLXdPQjZLclJYNS1QcjlGN2I1WjBSa25NS00talV1d0kwY0ZfRWdFUENueEhPeFY3SWlScm5HeFdDVjA9)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmdESVY5T3ZkSVBuRmRlY242N3owOC1sZDBYUTBpOW5XQlBUeGxmc1F1d3VNS1RUU2NZcmFSUXp3UHpzOW1VZXg0YUt0UGpXazlfdS1Xcl9GWnJLV2VPTXpKdHc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmdESVY5UTJ1eEJNWEFZOGpfTHkwX25kSTJ0endoMWhXSGtZTGxaMnNtMHhqbXQyZlhiMlBfR2lYRjA0bGVBendfc2xpeFNsdElPZ1MySFVqXzlIamtJMHFla0E9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmdESVY5bVpHOUtsLWZJamJ2RHJaZVJLWTA1S0tIbk5QVGFYX1Vjek85SzU2TFVCQkVLcmdoTXc2MnBVWkdZLVFCQzhRUDJOd3ljdjZVZVlSVE5WQm5pXy1jNlE9PQ==)
      flutter: 1.22.4
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
        - tag
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - cd . && flutter build apk --release
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - javiale2000@gmail.com
